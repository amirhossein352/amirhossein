/**
 * Mega Menu Styles - Clean and Simple
 * استایل مگامنو مطابق با تصویر
 */

@media (min-width: 769px) {
    /* Mega Menu Container */
    .main-navigation .nav-item.mega-menu.dropdown > .dropdown-menu,
    .main-navigation .nav-item.mega-menu.dropdown > .sub-menu {
        position: absolute !important;
        top: 100% !important;
        right: 0 !important;
        left: 0 !important;
        width: 100% !important;
        max-width: 1200px !important;
        margin: 0 auto !important;
        padding: 0 !important;
        background: #ffffff !important;
        box-shadow: 0 12px 40px rgba(0, 0, 0, 0.15) !important;
        border-radius: 12px !important;
        border: 1px solid rgba(0, 0, 0, 0.08) !important;
        opacity: 0 !important;
        visibility: hidden !important;
        transform: translateY(-20px) scale(0.95) !important;
        transition: all 0.4s cubic-bezier(0.4, 0, 0.2, 1) !important;
        z-index: 1000 !important;
        overflow: hidden !important;
    }

    .main-navigation .nav-item.mega-menu.dropdown:hover > .dropdown-menu,
    .main-navigation .nav-item.mega-menu.dropdown:hover > .sub-menu {
        opacity: 1 !important;
        visibility: visible !important;
        transform: translateY(0) scale(1) !important;
    }
    
    /* "View All" Link at Top */
    .main-navigation .nav-item.mega-menu.dropdown > .dropdown-menu > .mega-menu-view-all,
    .main-navigation .nav-item.mega-menu.dropdown > .sub-menu > .mega-menu-view-all {
        display: block !important;
        padding: 1rem 2rem !important;
        background: #f8f9fa !important;
        border-bottom: 1px solid #e9ecef !important;
        margin: 0 !important;
        list-style: none !important;
    }
    
    .main-navigation .nav-item.mega-menu.dropdown > .dropdown-menu .mega-menu-view-all-link,
    .main-navigation .nav-item.mega-menu.dropdown > .sub-menu .mega-menu-view-all-link {
        display: inline-flex !important;
        align-items: center !important;
        gap: 0.5rem !important;
        color: var(--zs-teal-medium, #37C3B3) !important;
        font-weight: 600 !important;
        font-size: 0.95rem !important;
        text-decoration: none !important;
        transition: all 0.2s ease !important;
    }
    
    .main-navigation .nav-item.mega-menu.dropdown > .dropdown-menu .mega-menu-view-all-link:hover,
    .main-navigation .nav-item.mega-menu.dropdown > .sub-menu .mega-menu-view-all-link:hover {
        color: var(--zs-teal-dark, #00A796) !important;
        gap: 0.75rem !important;
    }
    
    .main-navigation .nav-item.mega-menu.dropdown > .dropdown-menu .mega-menu-view-all-link svg,
    .main-navigation .nav-item.mega-menu.dropdown > .sub-menu .mega-menu-view-all-link svg {
        width: 16px !important;
        height: 16px !important;
        fill: none !important;
        stroke: currentColor !important;
    }
    
    /* Make columns display as grid - All direct children become columns */
    /* Default: 3 columns (if no specific column class is set) */
    .main-navigation .nav-item.mega-menu.dropdown:not(.mega-menu-2cols):not(.mega-menu-3cols):not(.mega-menu-4cols) > .dropdown-menu,
    .main-navigation .nav-item.mega-menu.dropdown:not(.mega-menu-2cols):not(.mega-menu-3cols):not(.mega-menu-4cols) > .sub-menu {
        display: grid !important;
        grid-template-columns: repeat(3, 1fr) !important;
        gap: 0 !important;
        padding: 2rem !important;
    }
    
    /* Override for view-all to be full width at top */
    .main-navigation .nav-item.mega-menu.dropdown > .dropdown-menu > .mega-menu-view-all,
    .main-navigation .nav-item.mega-menu.dropdown > .sub-menu > .mega-menu-view-all {
        grid-column: 1 / -1 !important;
        padding: 1rem 2rem !important;
        margin: 0 !important;
    }
    
    /* Columns wrapper - All items except view-all */
    .main-navigation .nav-item.mega-menu.dropdown > .dropdown-menu > li:not(.mega-menu-view-all),
    .main-navigation .nav-item.mega-menu.dropdown > .sub-menu > li:not(.mega-menu-view-all) {
        display: block !important;
        padding: 0 1.5rem !important;
        position: relative !important;
    }
    
    /* Column Title - First level items */
    .main-navigation .nav-item.mega-menu.dropdown > .dropdown-menu > li:not(.mega-menu-view-all) > .nav-link,
    .main-navigation .nav-item.mega-menu.dropdown > .sub-menu > li:not(.mega-menu-view-all) > .nav-link {
        display: block !important;
        padding: 0.75rem 0 !important;
        margin-bottom: 0.75rem !important;
        font-weight: 700 !important;
        font-size: 1rem !important;
        color: #212529 !important;
        text-decoration: none !important;
        position: relative !important;
        padding-right: 1rem !important;
    }
    
    /* Colored bar on the right (RTL) */
    .main-navigation .nav-item.mega-menu.dropdown > .dropdown-menu > li:not(.mega-menu-view-all)::before,
    .main-navigation .nav-item.mega-menu.dropdown > .sub-menu > li:not(.mega-menu-view-all)::before {
        content: '' !important;
        position: absolute !important;
        right: 0 !important;
        top: 0.75rem !important;
        width: 4px !important;
        height: 1.5rem !important;
        background: var(--zs-teal-medium, #37C3B3) !important;
        border-radius: 2px !important;
    }
    
    /* Hide icons in column titles */
    .main-navigation .nav-item.mega-menu.dropdown > .dropdown-menu > li:not(.mega-menu-view-all) > .nav-link .nav-icon,
    .main-navigation .nav-item.mega-menu.dropdown > .sub-menu > li:not(.mega-menu-view-all) > .nav-link .nav-icon {
        display: none !important;
    }
    
    /* Submenu items (second level) */
    .main-navigation .nav-item.mega-menu.dropdown > .dropdown-menu > li:not(.mega-menu-view-all) .sub-menu,
    .main-navigation .nav-item.mega-menu.dropdown > .sub-menu > li:not(.mega-menu-view-all) .sub-menu,
    .main-navigation .nav-item.mega-menu.dropdown > .dropdown-menu > li:not(.mega-menu-view-all) .dropdown-menu,
    .main-navigation .nav-item.mega-menu.dropdown > .sub-menu > li:not(.mega-menu-view-all) .dropdown-menu {
        position: static !important;
        display: block !important;
        opacity: 1 !important;
        visibility: visible !important;
        transform: none !important;
        box-shadow: none !important;
        border: none !important;
        background: transparent !important;
        padding: 0 !important;
        margin: 0 !important;
        min-width: auto !important;
        width: 100% !important;
        list-style: none !important;
    }
    
    /* Submenu items */
    .main-navigation .nav-item.mega-menu.dropdown > .dropdown-menu > li:not(.mega-menu-view-all) .sub-menu .nav-item,
    .main-navigation .nav-item.mega-menu.dropdown > .sub-menu > li:not(.mega-menu-view-all) .sub-menu .nav-item,
    .main-navigation .nav-item.mega-menu.dropdown > .dropdown-menu > li:not(.mega-menu-view-all) .dropdown-menu .nav-item,
    .main-navigation .nav-item.mega-menu.dropdown > .sub-menu > li:not(.mega-menu-view-all) .dropdown-menu .nav-item {
        display: block !important;
        margin: 0 !important;
        padding: 0 !important;
        width: 100% !important;
        border-bottom: none !important;
        list-style: none !important;
    }
    
    /* Submenu links */
    .main-navigation .nav-item.mega-menu.dropdown > .dropdown-menu > li:not(.mega-menu-view-all) .sub-menu .nav-link,
    .main-navigation .nav-item.mega-menu.dropdown > .sub-menu > li:not(.mega-menu-view-all) .sub-menu .nav-link,
    .main-navigation .nav-item.mega-menu.dropdown > .dropdown-menu > li:not(.mega-menu-view-all) .dropdown-menu .nav-link,
    .main-navigation .nav-item.mega-menu.dropdown > .sub-menu > li:not(.mega-menu-view-all) .dropdown-menu .nav-link {
        display: block !important;
        padding: 0.5rem 0 !important;
        padding-right: 1rem !important;
        color: #495057 !important;
        font-weight: 400 !important;
        font-size: 0.9rem !important;
        text-decoration: none !important;
        transition: all 0.2s ease !important;
        background: transparent !important;
        width: 100% !important;
        text-align: right !important;
        white-space: normal !important;
    }
    
    .main-navigation .nav-item.mega-menu.dropdown > .dropdown-menu > li:not(.mega-menu-view-all) .sub-menu .nav-link:hover,
    .main-navigation .nav-item.mega-menu.dropdown > .sub-menu > li:not(.mega-menu-view-all) .sub-menu .nav-link:hover,
    .main-navigation .nav-item.mega-menu.dropdown > .dropdown-menu > li:not(.mega-menu-view-all) .dropdown-menu .nav-link:hover,
    .main-navigation .nav-item.mega-menu.dropdown > .sub-menu > li:not(.mega-menu-view-all) .dropdown-menu .nav-link:hover {
        color: var(--zs-teal-dark, #00A796) !important;
        transform: translateX(-5px) !important;
        padding-right: 1.25rem !important;
    }
    
    /* Hide icons in submenu items */
    .main-navigation .nav-item.mega-menu.dropdown > .dropdown-menu > li:not(.mega-menu-view-all) .sub-menu .nav-link .nav-icon,
    .main-navigation .nav-item.mega-menu.dropdown > .sub-menu > li:not(.mega-menu-view-all) .sub-menu .nav-link .nav-icon,
    .main-navigation .nav-item.mega-menu.dropdown > .dropdown-menu > li:not(.mega-menu-view-all) .dropdown-menu .nav-link .nav-icon,
    .main-navigation .nav-item.mega-menu.dropdown > .sub-menu > li:not(.mega-menu-view-all) .dropdown-menu .nav-link .nav-icon {
        display: none !important;
    }
    
    /* Column Counts - Must override default grid */
    .main-navigation .nav-item.mega-menu-2cols.dropdown > .dropdown-menu,
    .main-navigation .nav-item.mega-menu-2cols.dropdown > .sub-menu {
        display: grid !important;
        grid-template-columns: repeat(2, 1fr) !important;
        gap: 0 !important;
        padding: 2rem !important;
        max-width: 600px !important;
    }
    
    .main-navigation .nav-item.mega-menu-3cols.dropdown > .dropdown-menu,
    .main-navigation .nav-item.mega-menu-3cols.dropdown > .sub-menu {
        display: grid !important;
        grid-template-columns: repeat(3, 1fr) !important;
        gap: 0 !important;
        padding: 2rem !important;
        max-width: 900px !important;
    }
    
    .main-navigation .nav-item.mega-menu-4cols.dropdown > .dropdown-menu,
    .main-navigation .nav-item.mega-menu-4cols.dropdown > .sub-menu {
        display: grid !important;
        grid-template-columns: repeat(4, 1fr) !important;
        gap: 0 !important;
        padding: 2rem !important;
        max-width: 1200px !important;
    }
    
    /* Force 4 columns layout - ensure proper column distribution */
    .main-navigation .nav-item.mega-menu-4cols.dropdown > .dropdown-menu,
    .main-navigation .nav-item.mega-menu-4cols.dropdown > .sub-menu {
        grid-auto-flow: row !important;
    }
    
    .main-navigation .nav-item.mega-menu-4cols.dropdown > .dropdown-menu > li:not(.mega-menu-view-all),
    .main-navigation .nav-item.mega-menu-4cols.dropdown > .sub-menu > li:not(.mega-menu-view-all) {
        min-width: 0 !important;
        max-width: 100% !important;
    }
    
    /* Full Width */
    .main-navigation .nav-item.mega-menu-fullwidth.dropdown > .dropdown-menu,
    .main-navigation .nav-item.mega-menu-fullwidth.dropdown > .sub-menu {
        left: 0 !important;
        right: 0 !important;
        width: 100vw !important;
        max-width: 100% !important;
        border-radius: 0 0 12px 12px !important;
    }
}

